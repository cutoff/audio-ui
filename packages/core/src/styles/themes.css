/*
 * Copyright (c) 2026 Tylium.
 * SPDX-License-Identifier: GPL-3.0-only OR LicenseRef-TELF-1.0
 * See LICENSE.md for details.
 */

:root {
    /* High-level theming parameters – Change this for global theme customization on default components */
    --audioui-roundness-base: 0.3; /* Normalized 0.0-1.0 */
    --audioui-primary-color: var(--audioui-adaptive-default-color);

    /* Colors  */

    --audioui-nearwhite: hsl(0, 0%, 96%);
    --audioui-nearblack: hsl(0, 0%, 10%);

    /* Named color themes */
    --audioui-theme-blue: hsl(204, 88%, 52%);
    --audioui-theme-orange: hsl(29, 100%, 48%);
    --audioui-theme-pink: hsl(332, 92%, 52%);
    --audioui-theme-green: hsl(160, 95%, 44%);
    --audioui-theme-purple: hsl(252, 96%, 54%);
    --audioui-theme-yellow: hsl(50, 100%, 50%);

    /* Default theme — adaptive: dark ink on light, light ink on dark */
    --audioui-theme-default: var(--audioui-nearblack); /* Light mode: near-black */
    /* CSS variable for adaptive default - resolves correctly on both server and client */
    --audioui-adaptive-default-color: var(--audioui-theme-default);
    --audioui-adaptive-50: color-mix(in srgb, var(--audioui-adaptive-default-color) 50%, transparent);
    --audioui-adaptive-20: color-mix(in srgb, var(--audioui-adaptive-default-color) 20%, transparent);
    /* Adaptive luminosity variants - lighter for dark mode, darker for light mode */
    --audioui-adaptive-light: color-mix(in srgb, var(--audioui-adaptive-default-color) 80%, white);
    --audioui-adaptive-dark: color-mix(in srgb, var(--audioui-adaptive-default-color) 80%, black);

    /* Color variants (computed via color-mix) */
    --audioui-primary-50: color-mix(in srgb, var(--audioui-primary-color) 50%, transparent);
    --audioui-primary-20: color-mix(in srgb, var(--audioui-primary-color) 20%, transparent);
    /* Primary luminosity variants - lighter and darker versions */
    --audioui-primary-light: color-mix(in srgb, var(--audioui-primary-color) 80%, white);
    --audioui-primary-dark: color-mix(in srgb, var(--audioui-primary-color) 80%, black);

    /* Text and typography */
    --audioui-text-color: var(--audioui-nearblack);
    --audioui-default-font-size: 14px;

    /* Interactive highlight effect - users can customize or disable entirely */
    /* Set to 'none' to disable, or any valid CSS filter value for custom effects */
    --audioui-highlight-effect: brightness(1.15) contrast(1.05)
        drop-shadow(
            0 0 0.5em color-mix(in srgb, var(--audioui-primary-color, var(--audioui-text-color)) 35%, transparent)
        );
    --audioui-highlight-transition-duration: 50ms;

    /* Cursor styles for interactive components - users can customize cursor types */
    /* Variables are named after interaction functionality, not cursor type */
    /* Default cursor values use SVG data URIs to ensure consistent behavior across browsers (fixing Safari regression with variable-based keyword cursors) */
    --audioui-cursor-clickable: pointer; /* Clickable controls (Button, CycleButton, click-only controls) */
    --audioui-cursor-bidirectional:
        url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTYgN3YxOE03IDE2aDE4TTE2IDdsLTQgNE0xNiA3bDQgNE0xNiAyNWwtNC00TTE2IDI1bDQtNE03IDE2bDQtNE03IDE2bDQgNE0yNSAxNmwtNC00TTI1IDE2bC00IDQiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTE2IDd2MThNNyAxNmgxOE0xNiA3bC00IDRNMTYgN2w0IDRNMTYgMjVsLTQtNE0xNiAyNWw0LTRNNyAxNmw0LTRNNyAxNmw0IDRNMjUgMTZsLTQtNE0yNSAxNmwtNCA0IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==")
            16 16,
        move; /* Continuous controls with direction="both" */
    --audioui-cursor-horizontal:
        url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNyAxNmgxOE03IDE2bDUtNU03IDE2bDUgNU0yNSAxNmwtNS01TTI1IDE2bC01IDUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTcgMTZoMThNNyAxNmw1LTVNNyAxNmw1IDVNMjUgMTZsLTUtNU0yNSAxNmwtNSA1IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==")
            16 16,
        ew-resize; /* Horizontal drag (horizontal sliders, horizontal knobs) */
    --audioui-cursor-vertical:
        url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNMTYgN3YxOE0xNiA3bC01IDVNMTYgN2w1IDVNMTYgMjVsLTUtNU0xNiAyNWw1LTUiIHN0cm9rZT0id2hpdGUiIHN0cm9rZS13aWR0aD0iNCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTE2IDd2MThNMTYgN2wtNSA1TTE2IDdsNSA1TTE2IDI1bC01LTVNMTYgMjVsNS01IiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjwvc3ZnPg==")
            16 16,
        ns-resize; /* Vertical drag (vertical sliders, wheel-only controls) */
    --audioui-cursor-circular:
        url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIHZpZXdCb3g9IjAgMCAzMiAzMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSIxNiIgY3k9IjE2IiByPSIxMCIgc3Ryb2tlPSJ3aGl0ZSIgc3Ryb2tlLXdpZHRoPSI0Ii8+PGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTAiIHN0cm9rZT0iYmxhY2siIHN0cm9rZS13aWR0aD0iMiIvPjwvc3ZnPg==")
            16 16,
        move; /* Circular drag (knobs with direction="circular") */
    --audioui-cursor-noneditable: default; /* Non-editable controls */
    --audioui-cursor-disabled: not-allowed; /* Disabled controls */

    /* Classic Piano Key Colors */
    --audioui-keys-ivory: hsl(40, 20%, 95%); /* Warm off-white color for classic white keys */
    --audioui-keys-ivory-stroke: hsl(40, 20%, 85%); /* Slightly darker for stroke contrast */
    --audioui-keys-ebony: hsl(0, 0%, 15%); /* Deep black color for classic black keys */
    --audioui-keys-ebony-stroke: hsl(0, 0%, 25%); /* Slightly lighter for stroke contrast */

    /* Other component style customization */
    --audioui-knob-cap-fill: #303030;
    --audioui-button-stroke-width: 5px;

    /* Slider component colors */
    --audioui-slider-track-color: var(
        --audioui-adaptive-20
    ); /* Background track color (for all variants except abstract) */
    --audioui-slider-strip-color: var(--audioui-primary-color); /* Foreground value strip color */
    --audioui-slider-cursor-color: var(--audioui-primary-color); /* Cursor fill color */
    --audioui-slider-cursor-border-color: var(
        --audioui-primary-light
    ); /* Cursor border color (luminosity variant for visibility) */
    --audioui-slider-cursor-border-width: 5px; /* Cursor border width */

    /* Component-specific roundness (calculated from base) */
    --audioui-roundness-button: calc(var(--audioui-roundness-base) * 50px);
    --audioui-roundness-knob: var(--audioui-roundness-base); /* Used as boolean in JS or linecap in CSS */
    --audioui-roundness-slider: calc(var(--audioui-roundness-base) * 20px);
    --audioui-roundness-keys: calc(var(--audioui-roundness-base) * 12px);

    /* Derived Internal Variables - Not intended for direct customization */
    /* These variables are automatically managed by the roundness attribute via theme setters and hooks */
    --audioui-linecap-base: round; /* Inferred: 0.0 -> square, >0.0 -> round */
    --audioui-linecap-knob: var(--audioui-linecap-base);
    --audioui-linecap-slider: var(--audioui-linecap-base);
    --audioui-linecap-button: var(--audioui-linecap-base);

    /* Size System - Base Unit */
    /* The atomic unit for consistent sizing across all components */
    --audioui-unit: 48px;

    /* Size Multipliers */
    --audioui-size-mult-xsmall: 1;
    --audioui-size-mult-small: 1.25;
    --audioui-size-mult-normal: 1.5;
    --audioui-size-mult-large: 2;
    --audioui-size-mult-xlarge: 2.5;

    /* Square Components (1x1): Button, Knob, CycleButton */
    --audioui-size-square-xsmall: var(--audioui-unit);
    --audioui-size-square-small: calc(var(--audioui-unit) * var(--audioui-size-mult-small));
    --audioui-size-square-normal: calc(var(--audioui-unit) * var(--audioui-size-mult-normal));
    --audioui-size-square-large: calc(var(--audioui-unit) * var(--audioui-size-mult-large));
    --audioui-size-square-xlarge: calc(var(--audioui-unit) * var(--audioui-size-mult-xlarge));

    /* Horizontal Slider (1x2): height = base, width = 2 * base (width > height) */
    --audioui-size-hslider-height-xsmall: var(--audioui-unit);
    --audioui-size-hslider-height-small: calc(var(--audioui-unit) * var(--audioui-size-mult-small));
    --audioui-size-hslider-height-normal: calc(var(--audioui-unit) * var(--audioui-size-mult-normal));
    --audioui-size-hslider-height-large: calc(var(--audioui-unit) * var(--audioui-size-mult-large));
    --audioui-size-hslider-height-xlarge: calc(var(--audioui-unit) * var(--audioui-size-mult-xlarge));

    --audioui-size-hslider-width-xsmall: calc(var(--audioui-size-hslider-height-xsmall) * 2);
    --audioui-size-hslider-width-small: calc(var(--audioui-size-hslider-height-small) * 2);
    --audioui-size-hslider-width-normal: calc(var(--audioui-size-hslider-height-normal) * 2);
    --audioui-size-hslider-width-large: calc(var(--audioui-size-hslider-height-large) * 2);
    --audioui-size-hslider-width-xlarge: calc(var(--audioui-size-hslider-height-xlarge) * 2);

    /* Vertical Slider (2x1): width = base, height = 2 * base (height > width) */
    --audioui-size-vslider-width-xsmall: var(--audioui-unit);
    --audioui-size-vslider-width-small: calc(var(--audioui-unit) * var(--audioui-size-mult-small));
    --audioui-size-vslider-width-normal: calc(var(--audioui-unit) * var(--audioui-size-mult-normal));
    --audioui-size-vslider-width-large: calc(var(--audioui-unit) * var(--audioui-size-mult-large));
    --audioui-size-vslider-width-xlarge: calc(var(--audioui-unit) * var(--audioui-size-mult-xlarge));

    --audioui-size-vslider-height-xsmall: calc(var(--audioui-size-vslider-width-xsmall) * 2);
    --audioui-size-vslider-height-small: calc(var(--audioui-size-vslider-width-small) * 2);
    --audioui-size-vslider-height-normal: calc(var(--audioui-size-vslider-width-normal) * 2);
    --audioui-size-vslider-height-large: calc(var(--audioui-size-vslider-width-large) * 2);
    --audioui-size-vslider-height-xlarge: calc(var(--audioui-size-vslider-width-xlarge) * 2);

    /* Keys (1x5): height = base, width = 5 * base (width > height) */
    --audioui-size-keys-height-xsmall: var(--audioui-unit);
    --audioui-size-keys-height-small: calc(var(--audioui-unit) * var(--audioui-size-mult-small));
    --audioui-size-keys-height-normal: calc(var(--audioui-unit) * var(--audioui-size-mult-normal));
    --audioui-size-keys-height-large: calc(var(--audioui-unit) * var(--audioui-size-mult-large));
    --audioui-size-keys-height-xlarge: calc(var(--audioui-unit) * var(--audioui-size-mult-xlarge));

    --audioui-size-keys-width-xsmall: calc(var(--audioui-size-keys-height-xsmall) * 5);
    --audioui-size-keys-width-small: calc(var(--audioui-size-keys-height-small) * 5);
    --audioui-size-keys-width-normal: calc(var(--audioui-size-keys-height-normal) * 5);
    --audioui-size-keys-width-large: calc(var(--audioui-size-keys-height-large) * 5);
    --audioui-size-keys-width-xlarge: calc(var(--audioui-size-keys-height-xlarge) * 5);
}

/* Dark mode overrides */
.dark {
    /* Default theme — near-white ink in dark mode */
    --audioui-theme-default: var(--audioui-nearwhite);
    /* Adaptive default updates automatically via CSS variable */
    --audioui-adaptive-default-color: var(--audioui-theme-default);

    /* Named color themes (can have dark mode variants if needed) */
    --audioui-theme-blue: hsl(204, 88%, 53%);
    --audioui-theme-orange: hsl(29, 100%, 50%);
    --audioui-theme-pink: hsl(332, 95%, 54%);
    --audioui-theme-green: hsl(160, 98%, 37%);
    --audioui-theme-purple: hsl(252, 100%, 67%);
    --audioui-theme-yellow: hsl(50, 100%, 50%);

    /* Text color for dark mode */
    --audioui-text-color: var(--audioui-nearwhite);

    /* Other component style customization */
    --audioui-knob-cap-fill: #4a4d50;

    --audioui-slider-cursor-border-color: var(
        --audioui-primary-dark
    ); /* Cursor border color (luminosity variant for visibility) */
}
